# Mockup Hybrid ìë™ ì„ íƒ ê·œì¹™
# ìš°ì„ ìˆœìœ„: ê°•ì œ ì˜µì…˜ > í‚¤ì›Œë“œ > ì»¨í…ìŠ¤íŠ¸ > í™˜ê²½ > ê¸°ë³¸ê°’

version: "2.0.0"

rules:
  # 1ìˆœìœ„: ê°•ì œ ì˜µì…˜ (ì‚¬ìš©ì ëª…ì‹œ)
  force_options:
    --force-html: html
    --force-hifi: stitch
    --force-mermaid: mermaid

  # 2ìˆœìœ„: í‚¤ì›Œë“œ ê°ì§€
  keywords:
    # Mermaid íŠ¸ë¦¬ê±° í‚¤ì›Œë“œ (ë‹¤ì´ì–´ê·¸ë¨/í”Œë¡œìš° í•„ìš”) â€” ìµœìš°ì„ 
    mermaid_triggers:
      - "íë¦„"
      - "í”Œë¡œìš°"
      - "flow"
      - "ì‹œí€€ìŠ¤"
      - "sequence"
      - "API í˜¸ì¶œ"
      - "api call"
      - "DB"
      - "database"
      - "ë°ì´í„°ë² ì´ìŠ¤"
      - "ìŠ¤í‚¤ë§ˆ"
      - "schema"
      - "ER"
      - "er diagram"
      - "í´ë˜ìŠ¤"
      - "class diagram"
      - "ì•„í‚¤í…ì²˜"
      - "architecture"
      - "íŒŒì´í”„ë¼ì¸"
      - "pipeline"
      - "ìƒíƒœ ë¨¸ì‹ "
      - "state machine"
      - "ì›Œí¬í”Œë¡œìš°"
      - "workflow"
      - "ì˜ì¡´ì„±"
      - "dependency"
      - "í†µì‹ "
      - "communication"
      - "ì¸ì¦ íë¦„"
      - "auth flow"

    # Stitch API íŠ¸ë¦¬ê±° í‚¤ì›Œë“œ (ê³ í’ˆì§ˆ í•„ìš”)
    stitch_triggers:
      - "í”„ë ˆì  í…Œì´ì…˜"
      - "presentation"
      - "ê³ í’ˆì§ˆ"
      - "high quality"
      - "hifi"
      - "hi-fi"
      - "ë¦¬ë·°ìš©"
      - "review"
      - "ì´í•´ê´€ê³„ì"
      - "stakeholder"
      - "ìµœì¢…"
      - "final"
      - "ê³µì‹"
      - "official"
      - "ë°ëª¨"
      - "demo"
      - "ë°œí‘œ"
      - "deliver"
      - "í´ë¼ì´ì–¸íŠ¸"
      - "client"

    # HTML íŠ¸ë¦¬ê±° í‚¤ì›Œë“œ (ë¹ ë¥¸ ìƒì„± í•„ìš”)
    html_triggers:
      - "ë¹ ë¥¸"
      - "quick"
      - "fast"
      - "êµ¬ì¡°"
      - "structure"
      - "ì™€ì´ì–´í”„ë ˆì„"
      - "wireframe"
      - "ì´ˆì•ˆ"
      - "draft"
      - "ê²€í† "
      - "check"
      - "ìŠ¤ì¼€ì¹˜"
      - "sketch"
      - "ëŸ¬í”„"
      - "rough"
      - "í…ŒìŠ¤íŠ¸"
      - "test"
      - "ì„ì‹œ"
      - "temp"
      - "temporary"

  # 3ìˆœìœ„: ì»¨í…ìŠ¤íŠ¸
  context:
    # PRD ì—°ê²° ì‹œ â†’ Stitch (ë¬¸ì„œìš© ê³ í’ˆì§ˆ)
    prd_linked: stitch

    # ë‹¤ì¤‘ í™”ë©´ (3ê°œ ì´ìƒ) â†’ HTML (ë¹ ë¥¸ ìƒì„±)
    multi_screen_threshold: 3
    multi_screen_backend: html

  # 4ìˆœìœ„: í™˜ê²½ ê²€ì‚¬
  environment:
    # Stitch API í‚¤ ì—†ìŒ â†’ HTML
    stitch_api_unavailable: html

    # Rate Limit ì´ˆê³¼ â†’ HTML
    stitch_rate_limited: html

  # ê¸°ë³¸ê°’ (ìœ„ ì¡°ê±´ í•´ë‹¹ ì—†ìŒ)
  default: html

# ë°±ì—”ë“œë³„ ì„¤ì •
backends:
  mermaid:
    name: "Mermaid Diagram"
    emoji: "ğŸ“Š"
    description: "í…ìŠ¤íŠ¸ ê¸°ë°˜ ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±"
    avg_time_seconds: 2
    suffix: ".mermaid"

  html:
    name: "HTML Generator"
    emoji: "ğŸ“"
    description: "ë¡œì»¬ HTML ì™€ì´ì–´í”„ë ˆì„ ìƒì„±"
    avg_time_seconds: 5
    suffix: ""

  stitch:
    name: "Stitch API"
    emoji: "ğŸ¤–"
    description: "Google Stitch AI ìƒì„±"
    avg_time_seconds: 15
    suffix: "-hifi"

# í´ë°± ì„¤ì •
fallback:
  # Stitch ì‹¤íŒ¨ ì‹œ HTMLë¡œ í´ë°±
  enabled: true
  from: stitch
  to: html
  reason: "Stitch ì‹¤íŒ¨ â†’ HTML í´ë°±"
